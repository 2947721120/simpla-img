<html><head><meta charset="UTF-8"><link rel="import" href="../iron-icon/iron-icon.html"><link rel="import" href="../sm-helper-share/sm-helper-share.html"><link rel="import" href="../sm-connect-api/sm-connect-api.html"><link rel="import" href="../default-content/default-content.html"><link rel="import" href="../sm-meta-placeholder/sm-meta-placeholder.html"><link rel="import" href="../sm-helper-button/sm-helper-button.html"><link rel="import" href="../simpla/simpla.html"><link rel="import" href="../polymer/polymer.html"></head><body><div hidden by-vulcanize=""><dom-module id="sm-img-canvas" assetpath="../sm-img-canvas/">
  <template>

    <style include="sm-css"></style>
    <style>:host{position:relative;display:inline-block;overflow:hidden;width:inherit;height:inherit;vertical-align:bottom}:host([editable]){background:-webkit-linear-gradient(45deg,rgba(0,0,0,.02) 25%,rgba(0,0,0,0) 25%,rgba(0,0,0,0) 75%,rgba(0,0,0,.02) 75%,rgba(0,0,0,.02) 0),-webkit-linear-gradient(45deg,rgba(0,0,0,.02) 25%,rgba(0,0,0,0) 25%,rgba(0,0,0,0) 75%,rgba(0,0,0,.02) 75%,rgba(0,0,0,.02) 0),rgba(255,255,255,.02);background:linear-gradient(45deg,rgba(0,0,0,.02) 25%,rgba(0,0,0,0) 25%,rgba(0,0,0,0) 75%,rgba(0,0,0,.02) 75%,rgba(0,0,0,.02) 0),linear-gradient(45deg,rgba(0,0,0,.02) 25%,rgba(0,0,0,0) 25%,rgba(0,0,0,0) 75%,rgba(0,0,0,.02) 75%,rgba(0,0,0,.02) 0),rgba(255,255,255,.02);background-position:0 0,15px 15px;background-size:30px 30px}:host([editable]:hover)::before{content:'';position:absolute;top:0;right:0;bottom:0;left:0;background:var(--light-white);cursor:pointer;z-index:1}:host([active]){cursor:move}:host([active])::before{display:none}.img{vertical-align:bottom;-webkit-transform-origin:0 0;-ms-transform-origin:0 0;transform-origin:0 0;width:inherit;height:inherit}</style>

    <img id="source" class="img" src$="[[src]]" width$="[[width]]" height$="[[height]]" on-track="_dragImage" on-down="_stopEvent" on-load="_imageLoaded">

  </template>
  <script>!function(t){function e(s){if(i[s])return i[s].exports;var n=i[s]={exports:{},id:s,loaded:!1};return t[s].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(6)},,,,,,function(t,e,i){"use strict";function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}(),a=i(7),r=1,h=0,o=0,u="pan-finished",c=function(){function t(){s(this,t)}return n(t,[{key:"beforeRegister",value:function(){this.is="sm-img-canvas",this.properties={width:Number,height:Number,src:String,scale:Number,translateX:Number,translateY:Number}}},{key:"_paint",value:function(){var t=this;this._tick&&(cancelAnimationFrame(this._tick),this._tick=null),this._tick=requestAnimationFrame(function(){var e=t.scale,i=t.translateX,s=t.translateY;t.$.source.style.transform="scale("+e+") translateX("+i+"px) translateY("+s+"px)"})}},{key:"_resetDimensions",value:function(){this._width=this.offsetWidth,this._height=this.offsetHeight,this._imgWidth=this.$.source.offsetWidth,this._imgHeight=this.$.source.offsetHeight}},{key:"_dragImage",value:function(t){var e=t.detail,i=e.dx,s=e.dy,n=e.ddx,a=e.ddy,r=e.state;"start"===r&&this._resetDimensions(),this.translateX+=("start"===r?i:n)/this.scale,this.translateY+=("start"===r?s:a)/this.scale,"end"===r&&this.fire(u)}},{key:"_stopEvent",value:function(t){t.preventDefault()}},{key:"_imageLoaded",value:function(){this._resetDimensions()}},{key:"behaviors",get:function(){return[simpla.behaviors.editable({reflectToAttribute:!0,notify:!1}),simpla.behaviors.active({reflectToAttribute:!0})]}},{key:"scale",get:function(){return this._scale||r},set:function(t){if(this.editable){var e=this.minScale;e>t?this._scale=parseFloat(e):this._scale=parseFloat(t),this.translateX+=0,this.translateY+=0,this._paint()}}},{key:"translateX",get:function(){return this._translateX||h},set:function(t){this.editable&&(this._translateX=(0,a.fitInside)(t,this._bounds.x),this._paint())}},{key:"translateY",get:function(){return this._translateY||o},set:function(t){this.editable&&(this._translateY=(0,a.fitInside)(t,this._bounds.y),this._paint())}},{key:"minScale",get:function(){var t=this.height/this.$.source.height,e=this.width/this.$.source.width;return isNaN(t)||isNaN(e)?1:e>t?t:e}},{key:"_bounds",get:function(){return this._imgWidth&&this._width&&this._imgHeight&&this._height?{x:{min:-(this._imgWidth*this.scale-this._width)/this.scale,max:0},y:{min:-(this._imgHeight*this.scale-this._height)/this.scale,max:0}}:{x:{min:Number.NEGATIVE_INFINITY,max:Number.POSITIVE_INFINITY},y:{min:Number.NEGATIVE_INFINITY,max:Number.POSITIVE_INFINITY}}}}]),t}();Polymer(c)},function(t,e){"use strict";function i(t,e){return t<e.min?e.min:t>e.max?e.max:t}Object.defineProperty(e,"__esModule",{value:!0}),e.fitInside=i}]);</script>
</dom-module>
<dom-module id="sm-img-controls" assetpath="../sm-img-controls/">
  <template>
    <style include="sm-css"></style>
    <style>.toolbox,.zoom__slider{-webkit-box-align:center}.toolbox,.zoom{position:absolute;background:var(--med-white)}:root{--range-height:4px;--thumb-color:var(--blue);--thumb-size:18px;--thumb-border:3px solid white}:host{overflow:visible;@apply(--typography)}.toolbox{display:none;-webkit-align-items:center;-ms-flex-align:center;align-items:center;top:-5px;padding-top:5px;-webkit-transform:translateY(-100%);-ms-transform:translateY(-100%);transform:translateY(-100%);opacity:.5}.toolbox[visible],.zoom__slider{display:-webkit-box;display:-webkit-flex}.toolbox[visible]{display:-ms-flexbox;display:flex}.toolbox__file,.zoom{display:none}:host([position=right]) .toolbox{right:0;-webkit-box-orient:horizontal;-webkit-box-direction:normal;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;border-radius:0 0 0 var(--border-radius)}:host([position=left]) .toolbox{left:0;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;-webkit-flex-direction:row-reverse;-ms-flex-direction:row-reverse;flex-direction:row-reverse;border-radius:0 0 var(--border-radius)}.toolbox__tool{color:var(--med-black);width:var(--tool-size);-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0}.toolbox__tool:hover,.toolbox__tool[active]{color:var(--blue)}.toolbox__title{width:0;color:var(--text-color);-webkit-transition:width 140ms cubic-bezier(.215,.61,.355,1);transition:width 140ms cubic-bezier(.215,.61,.355,1)}.toolbox__title::-webkit-input-placeholder{opacity:0;color:var(--med-black);-webkit-transition:opacity 10ms;transition:opacity 10ms}.toolbox__title::-moz-placeholder{opacity:0;color:var(--med-black);transition:opacity 10ms}.toolbox__title:-ms-input-placeholder{opacity:0;color:var(--med-black);transition:opacity 10ms}.toolbox__title::placeholder{opacity:0;color:var(--med-black);-webkit-transition:opacity 10ms;transition:opacity 10ms}.toolbox__title--expanded::-webkit-input-placeholder{opacity:1;color:var(--med-black);-webkit-transition:opacity 80ms;transition:opacity 80ms}.toolbox__title--expanded::-moz-placeholder{opacity:1;color:var(--med-black);transition:opacity 80ms}.toolbox__title--expanded:-ms-input-placeholder{opacity:1;color:var(--med-black);transition:opacity 80ms}.toolbox__title--expanded::placeholder{opacity:1;color:var(--med-black);-webkit-transition:opacity 80ms;transition:opacity 80ms}.toolbox__title--expanded{width:220px}:host([position=right]) .toolbox__title--expanded{padding-left:14px}:host([position=left]) .toolbox__title--expanded{padding-right:14px}.zoom{left:5%;right:5%;border-top-left-radius:var(--border-radius);border-top-right-radius:var(--border-radius);cursor:default;bottom:-5px;padding-bottom:5px;-webkit-transform:translateY(100%);-ms-transform:translateY(100%);transform:translateY(100%);opacity:.5}.zoom[visible]{display:block}.zoom__slider{display:-ms-flexbox;display:flex;-webkit-align-items:center;-ms-flex-align:center;align-items:center;height:var(--tool-size);width:90%;margin:0 auto;overflow:hidden}.zoom__slider__input{width:100%}.zoom__slider__input::-webkit-slider-runnable-track{-webkit-appearance:none;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;background:var(--med-black);border-radius:999px;width:100%;height:var(--range-height);box-shadow:none;cursor:pointer;border:0;z-index:1}.zoom__slider__input::-moz-range-track{-moz-appearance:none;display:flex;align-items:center;background:var(--med-black);border-radius:999px;width:100%;height:var(--range-height);box-shadow:none;cursor:pointer;border:0;z-index:1}.zoom__slider__input::-ms-track{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;background:var(--med-black);border-radius:999px;width:100%;height:var(--range-height);box-shadow:none;cursor:pointer;border:0;z-index:1}.zoom__slider__input::-webkit-slider-runnable-track:focus{-webkit-appearance:none;outline:0}.zoom__slider__input::-moz-range-track:focus{-moz-appearance:none;outline:0}.zoom__slider__input::-ms-track:focus{outline:0}.zoom__slider__input::-webkit-slider-thumb{-webkit-appearance:none;border-radius:999px;background:var(--thumb-color);box-shadow:none;border:var(--thumb-border);width:var(--thumb-size);height:var(--thumb-size);position:relative;z-index:1}.zoom__slider__input::-moz-range-thumb{-moz-appearance:none;border-radius:999px;background:var(--thumb-color);box-shadow:none;border:var(--thumb-border);width:var(--thumb-size);height:var(--thumb-size);position:relative;z-index:1}.zoom__slider__input::-ms-thumb{border-radius:999px;background:var(--thumb-color);box-shadow:none;border:var(--thumb-border);width:var(--thumb-size);height:var(--thumb-size);position:relative;z-index:1}.zoom__slider__input::-webkit-slider-thumb::before{-webkit-appearance:none;content:'';display:block;height:var(--range-height);width:10000px;position:absolute;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%);right:15px;background:var(--thumb-color);pointer-events:none;z-index:-1}.zoom__slider__input::-moz-range-thumb::before{-moz-appearance:none;content:'';display:block;height:var(--range-height);width:10000px;position:absolute;top:50%;transform:translateY(-50%);right:15px;background:var(--thumb-color);pointer-events:none;z-index:-1}.zoom__slider__input::-ms-thumb::before{content:'';display:block;height:var(--range-height);width:10000px;position:absolute;top:50%;-ms-transform:translateY(-50%);transform:translateY(-50%);right:15px;background:var(--thumb-color);pointer-events:none;z-index:-1}:host(.img--dark) .toolbox,:host(.img--dark) .zoom{background:var(--med-black);color:var(--bright-white)}:host(.img--dark) .toolbax__title,:host(.img--dark) .toolbox__tool:hover{color:#fff}:host(.img--dark) .zoom__slider__input::-webkit-slider-runnable-track{-webkit-appearance:none;background:var(--med-black)}:host(.img--dark) .zoom__slider__input::-moz-range-track{-moz-appearance:none;background:var(--med-black)}:host(.img--dark) .zoom__slider__input::-ms-track{background:var(--med-black)}input[type=range]{-webkit-appearance:none}input[type=range]::-moz-focus-outer{border:0}</style>

    <div class="toolbox" id="controls-top">

      <!-- Image title -->
      <input type="text" id="title" class="toolbox__title" placeholder="Enter image title" value="{{title::input}}">
      <sm-helper-button id="titleButton" class="toolbox__tool" on-click="toggleTitle" icon="simpla:title"></sm-helper-button>

      <!-- Image upload (file input hidden, since it can't be styled) -->
      <sm-helper-button class="toolbox__tool" icon="simpla:camera" on-tap="openFilePicker">
        <input id="file" class="toolbox__file" type="file" on-change="_filesChanged">
      </sm-helper-button>

    </div>

    <!-- Zoom level slider -->
    <div class="zoom" id="controls-bottom">
      <div class="zoom__slider">
        <input type="range" class="zoom__slider__input" min="1" value="{{zoom::input}}" max="2" step="0.01">
      </div>
    </div>

  </template>
  <script>!function(t){function e(n){if(o[n])return o[n].exports;var i=o[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var o={};return e.m=t,e.c=o,e.p="",e(0)}({0:function(t,e,o){t.exports=o(8)},8:function(t,e,o){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var r=function(){function t(t,e){for(var o=0;o<e.length;o++){var n=e[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,o,n){return o&&t(e.prototype,o),n&&t(e,n),e}}(),a=o(9),s=n(a),l="toolbox__title--expanded",u=function(){function t(){i(this,t)}return r(t,[{key:"beforeRegister",value:function(){this.is="sm-img-controls",this.properties={position:{type:String,reflectToAttribute:!0,value:"right"},title:{type:String,notify:!0},file:{type:Object,readonly:!0,notify:!0},zoom:{type:Number,notify:!0}}}},{key:"toggleTitle",value:function(){var t=this.$.title,e=this.$.titleButton,o=!!t.className.match("\\b"+l+"\\b");e.active=!o,this.toggleClass(l,!o,t)}},{key:"openFilePicker",value:function(t){t&&t.stopPropagation(),this.$.file.click()}},{key:"_setPosition",value:function(){var t=void 0,e=void 0,o=void 0;t={x:window.outerWidth/2,y:window.outerHeight/2},e=this.getBoundingClientRect(),o={x:e.left+e.width/2,y:e.top+e.height/2},this.position=o.x<t.x?"right":"left"}},{key:"_filesChanged",value:function(t){var e=t.target.files;e&&e[0]&&(this.file=e[0])}},{key:"behaviors",get:function(){return[s["default"],simpla.behaviors.active()]}}]),t}();Polymer(u)},9:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=simpla.constants.easings,n={open:{easing:o.easeOutBack,fill:"both",duration:180,delay:15},close:{easing:o.easeOutCubic,fill:"both",duration:125}};e["default"]=Object.defineProperties({observers:["_toggleControls(active)"],_toggleControls:function(t){t?(this._setPosition(),this._openControls()):this._closeControls()},_openControls:function(){var t=this;this._controlAnimations.forEach(function(e){var o=e.target,i=e.begin,r=e.end;t.toggleAttribute("visible",!0,o),o.animate([i,r],n.open)})},_closeControls:function(){var t=this;this._controlAnimations.forEach(function(e){var o=e.target,i=e.begin,r=e.end,a=o.animate([r,i],n.close);a.onfinish=function(){t.toggleAttribute("visible",!1,o)}})}},{_controlAnimations:{get:function(){var t=this.$["controls-top"],e=this.$["controls-bottom"];return[{target:t,begin:{transform:"translateY(-100%)",opacity:.5},end:{transform:"translateY(0)",opacity:1}},{target:e,begin:{transform:"translateY(100%)",opacity:.5},end:{transform:"translateY(0)",opacity:1}}]},configurable:!0,enumerable:!0}}),t.exports=e["default"]}});</script>
</dom-module>
</div><dom-module id="simpla-img">
  <template>
    <style include="sm-css"></style>
    <style>:root{--placeholder-background:var(--gray);--placeholder-settings:{background-size:cover;background-position:center center;background-repeat:no-repeat};}:host{@apply(--typography);position:relative;overflow:hidden;display:inline-block;height:auto;width:auto}:host([saving]){pointer-events:none}:host([loading]) .placeholder{visibility:hidden}.placeholder{width:300px;height:300px;min-width:100%;min-height:100%;max-width:100%;max-height:100%;cursor:pointer;background:var(--placeholder-background);@apply(--placeholder-settings)}.placeholder::before{content:'Upload an image';position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;width:150px;height:50px;text-align:center;font-size:21px;line-height:1.3;font-weight:900;color:var(--med-white);cursor:pointer;z-index:1}</style>

    <sm-meta-placeholder id="placeholder" class="placeholder" show="[[usePlaceholder]]" on-tap="chooseFile"></sm-meta-placeholder>

    <sm-img-canvas id="image" src="[[src]]" width="[[width]]" height="[[height]]" scale="[[scale]]" editable="[[editable]]" active="[[active]]" on-pan-finished="updatePosition">
    </sm-img-canvas>

    <sm-img-controls id="controls" zoom="{{scale}}" title="{{title}}" active="[[active]]" on-file-changed="_fileChanged">
    </sm-img-controls>

    <sm-connect-api id="api" key="[[uid]]" saving="{{saving}}" loading="{{loading}}">
    </sm-connect-api>

    <sm-helper-share type="state" key="editable" value="{{editable}}">
    </sm-helper-share>

  </template>
  <script>!function(e){function t(n){if(i[n])return i[n].exports;var a=i[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){e.exports=i(1)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=i(2),r=n(s),l=i(4),u=n(l),c=i(5),d=n(c),h=function(){function e(){a(this,e)}return o(e,[{key:"beforeRegister",value:function(){this.is="simpla-img",this.properties={src:{type:String,value:""},width:Number,height:Number,scale:{type:Number,value:1},position:{type:Object,value:{x:0,y:0},observer:"_positionChanged"}}}},{key:"_positionChanged",value:function(e){this._canvas.translateX=e.x,this._canvas.translateY=e.y}},{key:"ready",value:function(){var e=this;this._syncImgSizing(),window.addEventListener("resize",function(){e.debounce("syncImgSizing",e._syncImgSizing.bind(e))})}},{key:"updatePosition",value:function(){var e=this._canvas;this.position={x:e.translateX,y:e.translateY}}},{key:"chooseFile",value:function(e){e&&e.stopPropagation(),this._controls.openFilePicker()}},{key:"_fileChanged",value:function(e){var t=this,i=new FileReader,n=e.detail.value;i.onloadend=function(){t.src=i.result,t.active=!0},i.readAsDataURL(n)}},{key:"_activeChanged",value:function(e){var t=this,i=function(e){e.__polymerGesturesHandled||(t.active=!1)};this.active?window.removeEventListener("click",i,!1):window.addEventListener("click",i,!1)}},{key:"_handleTap",value:function(e){var t=e.target;this.editable&&"file"!==t.type&&(t===this._placeholder?this._controls.openFilePicker():this.active=!0)}},{key:"_syncImgSizing",value:function(){var e=this,t=this.$.image,i=function(t){var i=e.style.display,n=void 0,a=void 0;return e.style.display="none",n=window.getComputedStyle(e),a=n[t],e.style.display=i,a.match(/%/)};t.style.width=i("width")?"100%":"inherit",t.style.height=i("height")?"100%":"inherit"}},{key:"behaviors",get:function(){return[simpla.behaviors.editable(),simpla.behaviors.active({observer:"_activeChanged"})].concat(r["default"]).concat(u["default"]).concat(d["default"])}},{key:"listeners",get:function(){return{tap:"_handleTap"}}},{key:"_canvas",get:function(){return this.$.image}},{key:"_controls",get:function(){return this.$.controls}},{key:"_placeholder",get:function(){return this.$.placeholder}}]),e}();Polymer(h)},function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(3),o=n(a),s="--placeholder-background",r=void 0,l=void 0;r=simpla.behaviors.placeholder({observer:"_placeholderChanged",value:"rgb(200,200,200)"},{observer:"_usePlaceholderChanged"}),l={observers:["_setPlaceholderFromEditable(editable)","_setPlaceholderFromSrc(src)"],_setPlaceholderFromEditable:function(e){this.usePlaceholder=e&&(!this.src||""===this.src)},_setPlaceholderFromSrc:function(e){this.usePlaceholder=this.editable&&(!e||""===e)},_usePlaceholderChanged:function(e){this._canvas.style.display=e?"none":""},_placeholderChanged:function(e){this.customStyle[s]=(0,o["default"])(e)?e:"url("+e+")",this.updateStyles()}},t["default"]=[r,l],e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){var t="rgb(0, 0, 0)",i="rgb(255, 255, 255)",n=document.createElement("img"),a=function(t){return n.style.color=t,n.style.color=e,n.style.color!==t};return a(t)&&a(i)};t["default"]=function(e){switch(e){case"":case"inherit":case"transparent":return!1;default:return i(e)}},e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=void 0,n=void 0;i=simpla.behaviors["default"](),n={properties:{useDefault:{type:Boolean,observer:"_useDefaultChanged",value:!1}},observers:["_updateDefault(useDefault, _default)"],_updateDefault:function(e,t){e&&(this.src=this._default)},_useDefaultChanged:function(e){e&&(this.src=this._default)},_setDefaultAttribute:function(e){this._default=e},_setDefaultElement:function(e){var t=Polymer.dom(e).querySelector("img");this._default=t.src}},t["default"]=[i,n],e.exports=t["default"]},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=void 0,n=void 0;i=simpla.behaviors.persists("api"),n=Object.defineProperties({listeners:{"api.loaded":"_updateFromLoad"},observers:["_uidChanged(uid)","_savingChanged(saving)"],_toObject:function(){var e=this.src,t=this.position,i=this.title,n=this.scale,a=t.x,o=t.y;return{src:e,position:{x:a,y:o},title:i,scale:n}},_fromObject:function(e){var t=this._canvas.editable;this._canvas.editable=!0,this.src=e.src,this.position=e.position?{x:e.position.x,y:e.position.y}:{x:0,y:0},this.title=e.title,this.scale=e.scale||1,this._canvas.editable=t},_equal:function(e,t){return!(!e||!t)&&e.src===t.src&&e.position&&t.position&&e.position.x===t.position.x&&e.position.y===t.position.y&&e.title===t.title&&e.scale===t.scale},_updateFromLoad:function(e){var t=e.detail;this._fromObject(t.value)},_uidChanged:function(){this.load()},_savingChanged:function(e){var t=this,i=this._uploadingAnimation;e&&(this.active=!1,i.play(),i.onfinish=function(){t.saving&&i.play()})}},{_uploadingAnimation:{get:function(){var e=.3,t=.7,i=875,n=void 0,a=void 0,o=void 0;return n=window.getComputedStyle(this).opacity,a=n>e?n*t:n*PULSE_UP,o=this.animate([{opacity:n},{opacity:a}],{easing:"ease-in-out",duration:i,direction:"alternate",iterations:2}),o.finish(),o},configurable:!0,enumerable:!0}}),t["default"]=[i,n],e.exports=t["default"]}]);</script>
</dom-module>
</body></html>